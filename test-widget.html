<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exotic Estates - Chatbot Widget Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        .header {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .test-info {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 4px;
        }

        .test-info h2 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .test-info ul {
            margin-left: 20px;
            color: #555;
        }

        .test-info li {
            margin-bottom: 8px;
        }

        .section {
            background: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #1a1a1a;
            margin-bottom: 20px;
            font-size: 28px;
        }

        .section p {
            color: #666;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .property-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .property-card {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            background: #fafafa;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .property-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .property-card h3 {
            color: #1a1a1a;
            margin-bottom: 10px;
        }

        .property-card p {
            color: #666;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px;
        }

        .status-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 9999;
            font-size: 14px;
        }

        .status-indicator.success {
            border-left: 4px solid #10b981;
        }

        .status-indicator.error {
            border-left: 4px solid #ef4444;
        }

        .status-indicator.loading {
            border-left: 4px solid #f59e0b;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin: 15px 0;
        }

        .instructions {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 30px 0;
            border-radius: 4px;
        }

        .instructions h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .instructions ol {
            margin-left: 20px;
            color: #856404;
        }

        .instructions li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <!-- Status Indicator -->
    <div id="statusIndicator" class="status-indicator loading">
        <strong>‚è≥ Loading Chatbot...</strong>
    </div>

    <!-- Header -->
    <div class="header">
        <h1>üèñÔ∏è Exotic Estates</h1>
        <p>Luxury Villa Rentals - Chatbot Widget Test Page</p>
    </div>

    <div class="container">
        <!-- Test Instructions -->
        <div class="test-info">
            <h2>üß™ Testing Instructions</h2>
            <ul>
                <li><strong>Look for the chat button</strong> in the bottom-right corner</li>
                <li><strong>Click the button</strong> to open the chat window</li>
                <li><strong>Send a test message</strong> to verify it's working</li>
                <li><strong>Check browser console</strong> (F12) for any errors</li>
                <li><strong>Status indicator</strong> (top-right) shows widget loading status</li>
            </ul>
        </div>

        <!-- Instructions -->
        <div class="instructions">
            <h3>üìã What to Test</h3>
            <ol>
                <li>Widget button appears in bottom-right corner</li>
                <li>Button is clickable and opens chat window</li>
                <li>Can type and send messages</li>
                <li>Receives AI responses</li>
                <li>Typing animation appears while waiting</li>
                <li>No errors in browser console</li>
            </ol>
        </div>

        <!-- Content Sections -->
        <div class="section">
            <h2>Maui, Hawaii - Luxury Vacation Rentals</h2>
            <p>Discover the beauty of Maui with our exclusive collection of luxury villas. From beachfront properties to mountain retreats, we offer the perfect vacation rental for your Hawaiian getaway.</p>
            
            <div class="property-grid">
                <div class="property-card">
                    <h3>Beachfront Paradise</h3>
                    <p><span class="badge">4 Bedrooms</span><span class="badge">3 Bathrooms</span></p>
                    <p>Stunning oceanfront villa with private pool and direct beach access. Perfect for families or groups up to 8 guests.</p>
                </div>
                
                <div class="property-card">
                    <h3>Mountain View Estate</h3>
                    <p><span class="badge">5 Bedrooms</span><span class="badge">4 Bathrooms</span></p>
                    <p>Luxurious estate with panoramic mountain and ocean views. Features gourmet kitchen and outdoor entertainment area.</p>
                </div>
                
                <div class="property-card">
                    <h3>Tropical Oasis</h3>
                    <p><span class="badge">3 Bedrooms</span><span class="badge">2 Bathrooms</span></p>
                    <p>Cozy villa surrounded by tropical gardens. Includes hot tub, outdoor dining, and walking distance to beach.</p>
                </div>
            </div>
        </div>

        <!-- Additional Real Estate Details to Verify Context Awareness -->
        <div class="section">
            <h2>Context Check: Maui Villa Highlights</h2>
            <p><strong>Property:</strong> Beachfront Paradise ‚Äî 4BR/3BA, private pool, direct beach access, sleeps 8.</p>
            <p><strong>Property:</strong> Mountain View Estate ‚Äî 5BR/4BA, panoramic views, gourmet kitchen, outdoor entertainment.</p>
            <p><strong>Property:</strong> Tropical Oasis ‚Äî 3BR/2BA, hot tub, outdoor dining, short walk to the beach.</p>
            <p><strong>Availability sample:</strong> Beachfront Paradise is available the week of July 10‚Äì17.</p>
            <p><strong>Ask the bot:</strong> ‚ÄúWhich Maui villa has a private pool and is free the week of July 10?‚Äù</p>
        </div>

        <!-- Maui Luxury Rentals Detailed Copy -->
        <div class="section">
            <h2>Exotic Estates Maui Luxury Rentals</h2>
            <p>Hawaii-based Maui Luxury Vacation Rental Specialists are ready to help you find and rent an inspected vacation villa or condo residence for your next Maui vacation. They will connect you to a perfect home they know firsthand, ensuring you get a rental that meets your family's or group's unique needs. All of them offer privacy, the ability to prepare your own meals and drinks on your schedule, and often private pools and hot tubs.</p>
            <p>Exotic Estates specializes in luxury Maui Vacation Homes. When you work with Exotic Estates, you will work with a dedicated, local‚ÄîMaui-based‚ÄîVilla Specialist, who will serve as your private consultant and connect you with the ideal home in our large and diverse collection of Maui vacation villas. You will find beachfront villas and gated homes set on the cooler upper slopes, offering stunning views of the outer islands of Lanai and Molokai.</p>
            <p>In addition to gorgeous, private vacation villas and homes, Exotic Estates represents villas at some of Maui's finest resorts, offering the best of both private villa and resort-style vacationing. Vacation Villas and Condos are available at the Wailea Beach Villas, the Ho'olei at Grand Wailea, the Westin Ocean Resort Villas, the Fairmont Kea Lani Maui Villas, and the fabulous Andaz Maui at Wailea Villas.</p>
            <p>Whether you are looking for a high-quality vacation home for a family vacation, a multi-generational group, or a couples' escape, Exotic Estates has a range of vacation villas in the most sought-after locations, including Wailea, Kaanapali, and Paia. Our homes range from large beachfront estates and villas to smaller cottages, offering a variety of options for your perfect Maui getaway.</p>
            <p><strong>Ask the bot to verify context:</strong></p>
            <ul style="margin-left: 20px; color: #666;">
                <li>‚ÄúWhich Maui resorts do you have villas at?‚Äù</li>
                <li>‚ÄúDo you have Maui villas with private pools and hot tubs?‚Äù</li>
                <li>‚ÄúTell me about Wailea Beach Villas and other Maui resort villas you offer.‚Äù</li>
                <li>‚ÄúI want a multi-generational family villa in Kaanapali‚Äîwhat do you recommend?‚Äù</li>
                <li>‚ÄúDo you have Maui villas with views of Lanai and Molokai?‚Äù</li>
            </ul>
        </div>

        <div class="section">
            <h2>Why Choose Exotic Estates?</h2>
            <p>We specialize in providing exceptional luxury vacation rentals in the world's most beautiful destinations. Our properties are carefully selected to ensure the highest standards of comfort, style, and service.</p>
            <p>Whether you're planning a romantic getaway, family vacation, or group retreat, our team is here to help you find the perfect property.</p>
        </div>

        <div class="section">
            <h2>Test Questions to Ask the Chatbot</h2>
            <ul style="margin-left: 20px; color: #666;">
                <li>"What properties are available in Maui?"</li>
                <li>"Tell me about beachfront villas"</li>
                <li>"I need a 4-bedroom villa"</li>
                <li>"What amenities do your properties have?"</li>
                <li>"How can I book a property?"</li>
            </ul>
        </div>

        <!-- Script Tag Being Tested -->
        <div class="section">
            <h2>üîß Script Tag Configuration</h2>
            <p>The chatbot widget is loaded using this script tag:</p>
            <div class="code-block">
&lt;script src="http://16.16.128.91:3005/public/chatbot-widget.js"
        data-api-url="http://16.16.128.91:3005/api"
        data-config='{"theme": "light", "position": "bottom-right"}'&gt;&lt;/script&gt;
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- CHATBOT WIDGET SCRIPT TAG - THIS IS WHAT YOU'RE TESTING -->
    <!-- ============================================ -->
    <!-- 
    For local testing with EC2 server, you need to update CORS on EC2 first.
    Or use the local server option below.
    -->
    
    <!-- Option 1: Test with EC2 Server (requires CORS fix on EC2) -->
    <script src="http://16.16.128.91:3005/public/chatbot-widget.js"
            data-api-url="http://16.16.128.91:3005/api"
            data-config='{"theme": "light", "position": "bottom-right"}'></script>
    
    <!-- Option 2: Test with Local Server (uncomment to use) -->
    <!--
    <script src="http://localhost:3002/public/chatbot-widget.js"
            data-api-url="http://localhost:3002/api"
            data-config='{"theme": "light", "position": "bottom-right"}'></script>
    -->

    <!-- Status Check Script -->
    <script>
        // Check if widget loaded successfully
        setTimeout(() => {
            const statusIndicator = document.getElementById('statusIndicator');
            const widgetButton = document.querySelector('#ee-chatbot-button');
            
            if (widgetButton) {
                statusIndicator.className = 'status-indicator success';
                statusIndicator.innerHTML = '<strong>‚úÖ Chatbot Loaded!</strong><br>Button visible in bottom-right';
            } else {
                statusIndicator.className = 'status-indicator error';
                statusIndicator.innerHTML = '<strong>‚ùå Widget Not Found</strong><br>Check console (F12) for errors';
            }
        }, 2000);

        // Log widget initialization
        window.addEventListener('load', () => {
            console.log('üß™ Test page loaded');
            console.log('üîç Looking for chatbot widget...');
            
            setTimeout(() => {
                if (window.ExoticEstatesChatbot) {
                    console.log('‚úÖ Chatbot widget initialized successfully!');
                } else {
                    console.error('‚ùå Chatbot widget not found. Check script URL and CORS settings.');
                }
            }, 3000);
        });
    </script>
</body>
</html>